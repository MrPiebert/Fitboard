<!--https://www.javatpoint.com/javascript-editable-table-->
<!DOCTYPE html>  
<html>  
<head>  
<meta name="viewport" content="width=device-width, initial-scale=1">  
<meta charset="UTF-8">  
<title> Create New Program </title>  
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">  
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">  
</head>  
<link rel="stylesheet" href="Program Modification.css">

<body>

<table id="program table" class="table data" >  
<h1> Create Program </h1>  
  <thead>  
    <tr>  
      <th> Exercise </th>  
      <th> Sets </th>  
      <th> Reps </th>  
    </tr>  
  </thead>  
  <tbody>  
    <tr> 
      <td class="data"> ex1 </td>  
      <td class="data"> some </td>  
      <td class="data"> a few </td>  
      <td>  
        <button class="save"> Save </button>  
        <button class="edit"> Edit </button>  
        <button class="delete"> Delete </button> 
        <button class="newabove" onclick="add_row_above(this)"> Add New Exercise Above </button> 
        <button class="newbelow" onclick="add_row_below(this)"> Add New Exercise Below </button> 
      </td>  
    </tr>  
  </tbody>  
</table>  

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"> </script>  
<script>  

function add_row_above(button) {
  var Current_Row = button.parentNode.parentNode;
  var New_Row = Current_Row.cloneNode(true);
  New_Row.querySelectorAll("td:not(:last-child)").forEach(cell => {cell.textContent = ""})
  Current_Row.parentNode.insertBefore(New_Row, Current_Row);
}

function add_row_below(button) {
  var Current_Row = button.parentNode.parentNode;
  var New_Row = Current_Row.cloneNode(true);
  New_Row.querySelectorAll("td:not(:last-child)").forEach(cell => {cell.textContent = ""})
  Current_Row.parentNode.insertBefore(New_Row, Current_Row.nextSibling);
}


$(document).on('click', '.edit', function() {  
  
  $(this).parent().siblings('td.data').each(function() {  
    var content = $(this).html();  
    $(this).html('<input value="' + content + '" />');  
  }); 
  $(this).siblings('.save').show();  
  $(this).siblings('.delete').show();
  $(this).siblings('.newabove').hide();
  $(this).siblings('.newbelow').hide();
  $(this).hide();  
});  

$(document).on('click', '.save', function() {  
  $('input').each(function() {  
    var content = $(this).val();  
    $(this).html(content);  
    $(this).contents().unwrap();
  });  
  $(this).siblings('.edit').show();  
  $(this).siblings('.newabove').show();
  $(this).siblings('.newbelow').show();  
  $(this).siblings('.delete').hide();
  $(this).hide();  
});  

$(document).on('click', '.delete', function() {  
  $(this).parents('tr').remove();  
});  

$('.add').click(function() {  
  $(this).parents('table').append('<tr><td class="data"></td><td class="data"></td><td class="data"></td><td><button class="save">Save</button><button class="edit">Edit</button> <button class="delete">Delete</button></td></tr>');  
});  

</script>  
</body>  
</html>  
